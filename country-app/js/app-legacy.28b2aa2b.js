(function(){"use strict";var t={3009:function(t,e,r){r(6992),r(8674),r(9601),r(7727);var o=r(8935),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("search-component",{attrs:{searchItems:t.searchItems,showMoreItem:t.showMoreItem}}),r("div",{staticClass:"main_content",staticStyle:{"margin-top":"10px"}},[r("div",[t.showDetailedItem?r("div",[r("country-information",{attrs:{itemData:t.showDetailedItem,addOrRemoveFavourites:t.addOrRemoveFavourites},on:{openBorderCountry:t.openBorderCountry}})],1):t._e(),r("div",[r("div",[t._v("Countries:")]),0===t.countriesList.length?r("div",[t._v("No data")]):r("ul",{staticClass:"country_list"},t._l(t.countriesList,(function(e,o){return r("li",{key:o},[r("country-item",{attrs:{itemData:e,showMoreItem:t.showMoreItem}})],1)})),0)])]),r("div",[r("div",[t._v("Favourite countries:")]),0===t.favourites.length?r("div",[t._v("No data")]):r("favourites-list",{attrs:{favourites:t.favourites,removeFromFavourite:t.removeFromFavourite}})],1)])],1)},i=[],s=(r(9826),r(1539),r(8309),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"detailed_info"},[r("div",{staticClass:"detailed_info__item"},[r("div",[t._v(" "+t._s(t.countryData.name.official)+" ")]),r("div",[r("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:t.countryData.flags.svg,alt:"flag"}})]),r("div",[r("p",[t._v("Border countries:")]),r("ul",{staticClass:"border_countries"},t._l(t.countryData.borders,(function(e,o){return r("li",{key:o,on:{click:function(r){return t.openBorderCountry(e)}}},[t._v(" "+t._s(e)+" ")])})),0)]),r("div",[r("p",[t._v("Languages:")]),r("ul",{staticClass:"border_countries"},t._l(t.countryData.languages,(function(e,o){return r("li",{key:o},[t._v(" "+t._s(e)+" ")])})),0)])]),r("button",{class:t.btnClass,attrs:{type:"primary"},on:{click:function(e){return t.addOrRemove(t.countryData)}}},[t._v(" "+t._s(t.btnName)+" ")])])}),a=[],u=new o.Z,c=u,f="Add to favourites",l="Remove from favourites",v="add_btn",m="remove_btn",h={name:"country-information",props:{itemData:Object,addOrRemoveFavourites:Function},data:function(){return{btnName:"",btnClass:null,countryData:null}},watch:{itemData:function(t){this.countryData=t,this.checkIfItemIsFavourite(this.countryData)}},methods:{addOrRemove:function(t){var e=this.addOrRemoveFavourites(t);this.btnName=e?f:l,this.btnClass=e?v:m},checkIfItemIsFavourite:function(t){var e=this.$store.getters["CountriesStorage/favourites"].some((function(e){return e.name.official===t.name.official}));this.btnName=e?l:f,this.btnClass=e?m:v},openBorderCountry:function(t){var e=this.$store.getters["CountriesStorage/countries"];this.countryData=e.find((function(e){return e.cca3===t})),this.checkIfItemIsFavourite(this.countryData),this.$store.dispatch("CountriesStorage/setSearchCountries",[]),this.$emit("openBorderCountry")}},created:function(){var t=this;this.countryData=this.itemData,this.checkIfItemIsFavourite(this.countryData),c.$on("removeItemFromFavourite",(function(){t.checkIfItemIsFavourite(t.countryData)}))}},d=h,p=r(1001),C=(0,p.Z)(d,s,a,!1,null,null,null),g=C.exports,y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"country_item"},[r("div",{staticClass:"country_name"},[t._v(" "+t._s(t.itemData.name.official)+" ")]),r("button",{on:{click:function(e){return t.showMoreItem(t.itemData.name.official)}}},[t._v("Show more")])])},_=[],F={name:"country-item",props:{itemData:Object,showMoreItem:Function}},I=F,S=(0,p.Z)(I,y,_,!1,null,null,null),b=S.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"search-component-header"},[t._v("Search form")]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"search-input",domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value)},function(e){return t.doSearch(t.inputValue)}]}})])])},D=[],O={name:"search-component",props:{searchItems:Function,showMoreItem:Function},methods:{doSearch:function(t){this.searchItems(t),this.showMoreItem(t)}},data:function(){return{inputValue:""}}},$=O,k=(0,p.Z)($,w,D,!1,null,null,null),x=k.exports,Z=r(6166),L=r.n(Z),N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",{staticClass:"country_list"},t._l(t.favourites,(function(e,o){return r("li",{key:o,staticClass:"country_item"},[r("div",[t._v(" "+t._s(e.name.official)+" ")]),r("button",{staticClass:"remove_btn",attrs:{type:"primary"},on:{click:function(r){return t.deleteFromFavourites(e)}}},[t._v(" Remove from favourites ")])])})),0)])},M=[],R={name:"favourites-list",props:{removeFromFavourite:Function,favourites:Array},methods:{deleteFromFavourites:function(t){this.removeFromFavourite(t),c.$emit("removeItemFromFavourite")}}},j=R,B=(0,p.Z)(j,N,M,!1,null,null,null),T=B.exports,E={components:{SearchComponent:x,CountryItem:b,CountryInformation:g,FavouritesList:T},name:"app-component",data:function(){return{countriesList:[],showDetailedItem:null,favourites:[]}},created:function(){var t=this;this.favourites=this.$store.getters["CountriesStorage/favourites"],0!==this.$store.getters["CountriesStorage/countries"].length&&null!==this.$store.getters["CountriesStorage/countries"]||L().get("https://restcountries.com/v3.1/all").then((function(e){t.$store.dispatch("CountriesStorage/setCountries",e.data)})).catch((function(t){return console.error(t)}))},methods:{searchItems:function(t){this.$store.dispatch("CountriesStorage/searchCountry",t),this.countriesList=this.$store.getters["CountriesStorage/searchCountries"]},removeFromFavourite:function(t){this.$store.dispatch("CountriesStorage/removeCountryFromFavourite",t),this.favourites=this.$store.getters["CountriesStorage/favourites"]},openBorderCountry:function(){this.countriesList=this.$store.getters["CountriesStorage/searchCountries"]},showMoreItem:function(t){if(1===this.countriesList.length)this.showDetailedItem=this.countriesList[0];else if(this.countriesList.length>1){var e=this.countriesList.find((function(e){return e.name.official===t}));this.showDetailedItem=e||null}else this.showDetailedItem=null},addOrRemoveFavourites:function(t){var e=this.$store.getters["CountriesStorage/favourites"].some((function(e){return e.name.official===t.name.official}));return e?this.$store.dispatch("CountriesStorage/removeCountryFromFavourite",t):this.$store.dispatch("CountriesStorage/addCountryToFavourite",t),this.favourites=this.$store.getters["CountriesStorage/favourites"],e}}},V=E,P=(0,p.Z)(V,n,i,!1,null,null,null),J=P.exports,A=r(4665),q=r(4479),z=(r(2222),r(8862),r(4553),r(7042),r(3210),r(7327),{countries:null!==localStorage.getItem("countries")?JSON.parse(localStorage.getItem("countries")):[],favourites:null!==localStorage.getItem("favourites")?JSON.parse(localStorage.getItem("favourites")):[],searchCountries:[]}),G={countries:function(t){return t.countries},favourites:function(t){return t.favourites},searchCountries:function(t){return t.searchCountries}},H={setCountries:function(t,e){t.countries=e},addCountryToFavourite:function(t,e){t.favourites=[].concat((0,q.Z)(t.favourites),[e]),localStorage.setItem("favourites",JSON.stringify(t.favourites))},removeCountryFromFavourite:function(t,e){var r=t.favourites.findIndex((function(t){return t.name.official===e.name.official}));t.favourites=[].concat((0,q.Z)(t.favourites.slice(0,r)),(0,q.Z)(t.favourites.slice(r+1))),localStorage.setItem("favourites",JSON.stringify(t.favourites))},setSearchCountries:function(t,e){t.searchCountries=e},searchCountry:function(t,e){null!==e&&""!==e.trim()?t.searchCountries=t.countries.filter((function(t){return t.name.official.toLowerCase().indexOf(e.toLowerCase())>-1})):t.searchCountries=[]}},K={setSearchCountries:function(t,e){t.commit("setSearchCountries",e)},setCountries:function(t,e){t.commit("setCountries",e)},addCountryToFavourite:function(t,e){t.commit("addCountryToFavourite",e)},removeCountryFromFavourite:function(t,e){t.commit("removeCountryFromFavourite",e)},searchCountry:function(t,e){t.commit("searchCountry",e)}},Q=!0,U={state:z,getters:G,mutations:H,actions:K,namespaced:Q};o.Z.use(A.ZP);var W=new A.ZP.Store({modules:{CountriesStorage:U}});o.Z.config.productionTip=!1,new o.Z({store:W,render:function(t){return t(J)}}).$mount("#app")}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,r),i.exports}r.m=t,function(){var t=[];r.O=function(e,o,n,i){if(!o){var s=1/0;for(f=0;f<t.length;f++){o=t[f][0],n=t[f][1],i=t[f][2];for(var a=!0,u=0;u<o.length;u++)(!1&i||s>=i)&&Object.keys(r.O).every((function(t){return r.O[t](o[u])}))?o.splice(u--,1):(a=!1,i<s&&(s=i));if(a){t.splice(f--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var f=t.length;f>0&&t[f-1][2]>i;f--)t[f]=t[f-1];t[f]=[o,n,i]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,i,s=o[0],a=o[1],u=o[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(u)var f=u(r)}for(e&&e(o);c<s.length;c++)i=s[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(f)},o=self["webpackChunkcountry_app"]=self["webpackChunkcountry_app"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(3009)}));o=r.O(o)})();
//# sourceMappingURL=app-legacy.28b2aa2b.js.map