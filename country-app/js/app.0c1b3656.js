(function(){"use strict";var t={3009:function(t,e,r){var o=r(8935),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("search-component",{attrs:{searchItems:t.searchItems,showMoreItem:t.showMoreItem}}),r("div",{staticClass:"main_content",staticStyle:{"margin-top":"10px"}},[r("div",[t.showDetailedItem?r("div",[r("country-information",{attrs:{itemData:t.showDetailedItem,addOrRemoveFavourites:t.addOrRemoveFavourites},on:{openBorderCountry:t.openBorderCountry}})],1):t._e(),r("div",[r("div",[t._v("Countries:")]),0===t.countriesList.length?r("div",[t._v("No data")]):r("ul",{staticClass:"country_list"},t._l(t.countriesList,(function(e,o){return r("li",{key:o},[r("country-item",{attrs:{itemData:e,showMoreItem:t.showMoreItem}})],1)})),0)])]),r("div",[r("div",[t._v("Favourite countries:")]),0===t.favourites.length?r("div",[t._v("No data")]):r("favourites-list",{attrs:{favourites:t.favourites,removeFromFavourite:t.removeFromFavourite}})],1)])],1)},s=[],n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"detailed_info"},[r("div",{staticClass:"detailed_info__item"},[r("div",[t._v(" "+t._s(t.countryData.name.official)+" ")]),r("div",[r("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:t.countryData.flags.svg,alt:"flag"}})]),r("div",[r("p",[t._v("Border countries:")]),r("ul",{staticClass:"border_countries"},t._l(t.countryData.borders,(function(e,o){return r("li",{key:o,on:{click:function(r){return t.openBorderCountry(e)}}},[t._v(" "+t._s(e)+" ")])})),0)]),r("div",[r("p",[t._v("Languages:")]),r("ul",{staticClass:"border_countries"},t._l(t.countryData.languages,(function(e,o){return r("li",{key:o},[t._v(" "+t._s(e)+" ")])})),0)])]),r("button",{class:t.btnClass,attrs:{type:"primary"},on:{click:function(e){return t.addOrRemove(t.countryData)}}},[t._v(" "+t._s(t.btnName)+" ")])])},a=[];const u=new o.Z;var c=u;const l="Add to favourites",m="Remove from favourites",v="add_btn",f="remove_btn";var h={name:"country-information",props:{itemData:Object,addOrRemoveFavourites:Function},data(){return{btnName:"",btnClass:null,countryData:null}},watch:{itemData(t){this.countryData=t,this.checkIfItemIsFavourite(this.countryData)}},methods:{addOrRemove(t){const e=this.addOrRemoveFavourites(t);this.btnName=e?l:m,this.btnClass=e?v:f},checkIfItemIsFavourite(t){const e=this.$store.getters["CountriesStorage/favourites"].some((e=>e.name.official===t.name.official));this.btnName=e?m:l,this.btnClass=e?f:v},openBorderCountry(t){const e=this.$store.getters["CountriesStorage/countries"];this.countryData=e.find((e=>e.cca3===t)),this.checkIfItemIsFavourite(this.countryData),this.$store.dispatch("CountriesStorage/setSearchCountries",[]),this.$emit("openBorderCountry")}},created(){this.countryData=this.itemData,this.checkIfItemIsFavourite(this.countryData),c.$on("removeItemFromFavourite",(()=>{this.checkIfItemIsFavourite(this.countryData)}))}},d=h,p=r(1001),C=(0,p.Z)(d,n,a,!1,null,null,null),g=C.exports,y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"country_item"},[r("div",{staticClass:"country_name"},[t._v(" "+t._s(t.itemData.name.official)+" ")]),r("button",{on:{click:function(e){return t.showMoreItem(t.itemData.name.official)}}},[t._v("Show more")])])},_=[],F={name:"country-item",props:{itemData:Object,showMoreItem:Function}},I=F,S=(0,p.Z)(I,y,_,!1,null,null,null),b=S.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"search-component-header"},[t._v("Search form")]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"search-input",domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value)},function(e){return t.doSearch(t.inputValue)}]}})])])},D=[],O={name:"search-component",props:{searchItems:Function,showMoreItem:Function},methods:{doSearch(t){this.searchItems(t),this.showMoreItem(t)}},data(){return{inputValue:""}}},$=O,k=(0,p.Z)($,w,D,!1,null,null,null),x=k.exports,L=r(6166),N=r.n(L),Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",{staticClass:"country_list"},t._l(t.favourites,(function(e,o){return r("li",{key:o,staticClass:"country_item"},[r("div",[t._v(" "+t._s(e.name.official)+" ")]),r("button",{staticClass:"remove_btn",attrs:{type:"primary"},on:{click:function(r){return t.deleteFromFavourites(e)}}},[t._v(" Remove from favourites ")])])})),0)])},M=[],R={name:"favourites-list",props:{removeFromFavourite:Function,favourites:Array},methods:{deleteFromFavourites(t){this.removeFromFavourite(t),c.$emit("removeItemFromFavourite")}}},j=R,B=(0,p.Z)(j,Z,M,!1,null,null,null),T=B.exports,E={components:{SearchComponent:x,CountryItem:b,CountryInformation:g,FavouritesList:T},name:"app-component",data(){return{countriesList:[],showDetailedItem:null,favourites:[]}},created(){this.favourites=this.$store.getters["CountriesStorage/favourites"],0!==this.$store.getters["CountriesStorage/countries"].length&&null!==this.$store.getters["CountriesStorage/countries"]||N().get("https://restcountries.com/v3.1/all").then((t=>{this.$store.dispatch("CountriesStorage/setCountries",t.data)})).catch((t=>console.error(t)))},methods:{searchItems(t){this.$store.dispatch("CountriesStorage/searchCountry",t),this.countriesList=this.$store.getters["CountriesStorage/searchCountries"]},removeFromFavourite(t){this.$store.dispatch("CountriesStorage/removeCountryFromFavourite",t),this.favourites=this.$store.getters["CountriesStorage/favourites"]},openBorderCountry(){this.countriesList=this.$store.getters["CountriesStorage/searchCountries"]},showMoreItem(t){if(1===this.countriesList.length)this.showDetailedItem=this.countriesList[0];else if(this.countriesList.length>1){const e=this.countriesList.find((e=>e.name.official===t));this.showDetailedItem=e||null}else this.showDetailedItem=null},addOrRemoveFavourites(t){const e=this.$store.getters["CountriesStorage/favourites"].some((e=>e.name.official===t.name.official));return e?this.$store.dispatch("CountriesStorage/removeCountryFromFavourite",t):this.$store.dispatch("CountriesStorage/addCountryToFavourite",t),this.favourites=this.$store.getters["CountriesStorage/favourites"],e}}},V=E,P=(0,p.Z)(V,i,s,!1,null,null,null),J=P.exports,A=r(4665);const q={countries:null!==localStorage.getItem("countries")?JSON.parse(localStorage.getItem("countries")):[],favourites:null!==localStorage.getItem("favourites")?JSON.parse(localStorage.getItem("favourites")):[],searchCountries:[]},z={countries:t=>t.countries,favourites:t=>t.favourites,searchCountries:t=>t.searchCountries},G={setCountries:(t,e)=>{t.countries=e},addCountryToFavourite:(t,e)=>{t.favourites=[...t.favourites,e],localStorage.setItem("favourites",JSON.stringify(t.favourites))},removeCountryFromFavourite:(t,e)=>{const r=t.favourites.findIndex((t=>t.name.official===e.name.official));t.favourites=[...t.favourites.slice(0,r),...t.favourites.slice(r+1)],localStorage.setItem("favourites",JSON.stringify(t.favourites))},setSearchCountries:(t,e)=>{t.searchCountries=e},searchCountry:(t,e)=>{null!==e&&""!==e.trim()?t.searchCountries=t.countries.filter((t=>t.name.official.toLowerCase().indexOf(e.toLowerCase())>-1)):t.searchCountries=[]}},H={setSearchCountries:(t,e)=>{t.commit("setSearchCountries",e)},setCountries:(t,e)=>{t.commit("setCountries",e)},addCountryToFavourite:(t,e)=>{t.commit("addCountryToFavourite",e)},removeCountryFromFavourite:(t,e)=>{t.commit("removeCountryFromFavourite",e)},searchCountry:(t,e)=>{t.commit("searchCountry",e)}},K=!0;var Q={state:q,getters:z,mutations:G,actions:H,namespaced:K};o.Z.use(A.ZP);var U=new A.ZP.Store({modules:{CountriesStorage:Q}});o.Z.config.productionTip=!1,new o.Z({store:U,render:t=>t(J)}).$mount("#app")}},e={};function r(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,o,i,s){if(!o){var n=1/0;for(l=0;l<t.length;l++){o=t[l][0],i=t[l][1],s=t[l][2];for(var a=!0,u=0;u<o.length;u++)(!1&s||n>=s)&&Object.keys(r.O).every((function(t){return r.O[t](o[u])}))?o.splice(u--,1):(a=!1,s<n&&(n=s));if(a){t.splice(l--,1);var c=i();void 0!==c&&(e=c)}}return e}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[o,i,s]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,s,n=o[0],a=o[1],u=o[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(u)var l=u(r)}for(e&&e(o);c<n.length;c++)s=n[c],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(l)},o=self["webpackChunkcountry_app"]=self["webpackChunkcountry_app"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(3009)}));o=r.O(o)})();
//# sourceMappingURL=app.0c1b3656.js.map